# SpringBoot高并发场景下的高性能铁路购票平台

##项目描述
一款高性能的火车购票平台微服务项目，项目业务内容包括会员端的乘车人管理、余票查询、购票、查看订单等；管理端的车次、车站、车厢、座位等基础数据维护，定时生成每日车次信息及手动补偿，出票、生成订单等；模块分为管理端、会员端、跑批任务端。

##技术栈
SpringBoot，SpringCloud，Mybatis，MySQL，Redis，Quartz，Feign，Nacos，Seata，Sentinal，RocketMQ，Vue3

##相关内容简述
实现JWT单点登录功能，为后端增加校验拦截器，使用线程本地变量ThreadLocal存储会员信息。考虑到各业务模块的请求压力不同，实行分库设计，实现业务隔离及更合理的资源分配；
集成定时调度框架quartz，实现自动生成15日车次信息功能，并设计手动补偿接口；集成Openfeign和负载均衡器实现服务间调用；集成Nacos配置中心实现动态刷新、多环境配置及配置数据安全性问题；
完成购票相关的复杂业务逻辑开发和优化：业务逻辑涉及无选座、单座、多座情况，选座过程涉及是否有座，座位车站是否满足、座位是否跨车厢等多种情况，以及购票后涉及的多表更新；业务优化包括多座订单时使用偏移值来减少循环开销，通过二进制序列判断订单影响的车站区间余票等；
完成高并发场景下的业务优化：集成分布式事务Seata解决传统事务无法回滚远端服务造成的多库数据不一致问题，使用分布式锁配合守护线程解决库存超卖问题，集成Sentinal进行请求限流降级，使用基于Redis的令牌锁防止无效请求、机器人刷票，使用RocketMQ消息中间件对请求做异步削峰处理，解决吞吐量问题；
开发过程中解决多种运行问题、优化问题，使用JMeter性能测试，优化后的程序吞吐量和并发量约提升了20倍。
